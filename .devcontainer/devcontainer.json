{
  "name": "review",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu",

  "features": {
    "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {}
  },
    "ghcr.io/devcontainers/features/nix": {
      "packages": [
        "kustomize",
        "kubernetes-helm",
        "skaffold",
        "kubeval",
        "kubeconform",
        "docker",
        "kubectl",
        "k3d"
      ]
    }
  },
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
  ],
  "hostRequirements": { "cpus": 4 },
  "forwardPorts": [8443, 8000, 8080],
  "portsAttributes": { "8443": { "label": "kubernetes-dashboard" } },

  // "customizations": {
  //   "vscode": {
  //     "extensions": [],
  //     "settings": {
  //       "terminal.integrated.defaultProfile.linux": "bash",
  //       "files.trimTrailingWhitespace": true,
  //       "files.trimFinalNewlines": true,
  //       "files.insertFinalNewline": true
  //     }
  //   }
  // },

  "remoteUser": "root"
  // "onCreateCommand": "bash .devcontainer/on-create.sh",
  // "postCreateCommand": "bash .devcontainer/post-create.sh",
  // "postStartCommand":  "bash .devcontainer/post-start.sh"
}
